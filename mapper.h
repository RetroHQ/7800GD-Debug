#ifndef __7800_MAPPER_H__
#define __7800_MAPPER_H__

#include "types.h"

// Version 4 header, used directly by the 7800GD

enum EA78_V4_MAPPER
{
	EA78_V4_MAPPER_LINEAR = 0,
	EA78_V4_MAPPER_SUPERGAME,
	EA78_V4_MAPPER_ACTIVISION,
	EA78_V4_MAPPER_ABSOLUTE,
	EA78_V4_MAPPER_SOUPER
};

static const u8 EA78_V4_MAPPER_LINEAR_BANKSET = 1 << 7;
enum EA78_V4_MAPPER_LINEAR_4KOPT
{
	EA78_V4_MAPPER_LINEAR_4KOPT_NONE = 0,
	EA78_V4_MAPPER_LINEAR_4KOPT_RAM,
	EA78_V4_MAPPER_LINEAR_4KOPT_EXRAM_A8,
	EA78_V4_MAPPER_LINEAR_4KOPT_EXRAM_M2,
	EA78_V4_MAPPER_LINEAR_4KOPT_MASK = 3
};

static const u8 EA78_V4_MAPPER_SUPERGAME_BANKSET = 1 << 7;
enum EA78_V4_MAPPER_SUPERGAME_4KOPT
{
	EA78_V4_MAPPER_SUPERGAME_4KOPT_NONE = 0,
	EA78_V4_MAPPER_SUPERGAME_4KOPT_RAM,
	EA78_V4_MAPPER_SUPERGAME_4KOPT_EXRAM_A8,
	EA78_V4_MAPPER_SUPERGAME_4KOPT_EXRAM_M2,
	EA78_V4_MAPPER_SUPERGAME_4KOPT_EXROM,
	EA78_V4_MAPPER_SUPERGAME_4KOPT_EXFIX,
	EA78_V4_MAPPER_SUPERGAME_4KOPT_EXRAM_X2,
	EA78_V4_MAPPER_SUPERGAME_4KOPT_MASK = 7
};

static const u16 EA78_V4_AUDIO_STREAM =  1 << 5;
static const u16 EA78_V4_AUDIO_COVOX =  1 << 4;
static const u16 EA78_V4_AUDIO_YM2151 =  1 << 3;
enum EA78_V4_AUDIO_POKEY
{
	EA78_V4_AUDIO_POKEY_NONE = 0,
	EA78_V4_AUDIO_POKEY_440,
	EA78_V4_AUDIO_POKEY_450,
	EA78_V4_AUDIO_POKEY_440_450,
	EA78_V4_AUDIO_POKEY_800,
	EA78_V4_AUDIO_POKEY_4000,
	EA78_V4_AUDIO_POKEY_MASK = 7
};

static const u16 EA78_V4_IRQ_ENABLE_POKEY_1 =  1 << 0;
static const u16 EA78_V4_IRQ_ENABLE_POKEY_2 =  1 << 1;
static const u16 EA78_V4_IRQ_ENABLE_YM2151 =  1 << 2;

struct GDMapperInfo
{
	u8		nMapper;
	u8		nMapperOptions;
	u16		nMapperAudio;
	u16		nMapperIRQEnable;
	u32		nSize;
	u32		nLoadAddr;
	u8		nExtraFlags;
};

bool Get7800Mapper(GDMapperInfo *pMapper, FILE *pFile);

#endif // __7800_MAPPER_H__